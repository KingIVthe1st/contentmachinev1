{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useLocation,useNavigate}from'react-router-dom';import{TrendingUp,ArrowRight,RefreshCw,CheckCircle,AlertCircle}from'lucide-react';import toast from'react-hot-toast';import{apiService}from'../services/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const TrendAnalysis=()=>{const location=useLocation();const navigate=useNavigate();const[isLoading,setIsLoading]=useState(false);const[topics,setTopics]=useState([]);const[clientData,setClientData]=useState(null);const[clientId,setClientId]=useState(null);const[analysisComplete,setAnalysisComplete]=useState(false);useEffect(()=>{var _location$state,_location$state2;// Get client data from location state or localStorage\nif((_location$state=location.state)!==null&&_location$state!==void 0&&_location$state.clientId&&(_location$state2=location.state)!==null&&_location$state2!==void 0&&_location$state2.clientData){setClientId(location.state.clientId);setClientData(location.state.clientData);}else{const storedClientId=localStorage.getItem('currentClientId');const storedClient=localStorage.getItem('currentClient');if(storedClientId&&storedClient){setClientId(storedClientId);setClientData(JSON.parse(storedClient));}else{// Redirect to client setup if no client data\nnavigate('/client-setup');return;}}},[location.state,navigate]);const analyzeTrends=async()=>{if(!clientId||!clientData){toast.error('Client data not found. Please setup a client first.');return;}setIsLoading(true);try{const response=await apiService.analyzeTrends({client_id:clientId,niche:clientData.niche});if(response.status===200){setTopics(response.data.topics);setAnalysisComplete(true);toast.success('Trend analysis completed successfully!');}}catch(error){var _error$response,_error$response$data;console.error('Error analyzing trends:',error);toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Failed to analyze trends');}finally{setIsLoading(false);}};const handleContinueToContent=()=>{if(topics.length>0){navigate('/content-generation',{state:{clientId,clientData,topics}});}};const getScoreColor=score=>{if(score>=8)return'text-green-600 bg-green-100';if(score>=6)return'text-yellow-600 bg-yellow-100';return'text-red-600 bg-red-100';};const getScoreLabel=score=>{if(score>=8)return'Excellent';if(score>=6)return'Good';return'Fair';};if(!clientData){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-20\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin w-8 h-8 border-2 border-primary-600 border-t-transparent rounded-full mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading client data...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-12\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-4xl font-bold text-gray-900 mb-4\",children:[\"Trend Analysis for \",clientData.name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl text-gray-600 max-w-3xl mx-auto\",children:[\"Analyzing trending topics in \",/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-primary-600\",children:clientData.niche}),\"to identify the most viral and relevant content opportunities.\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card max-w-4xl mx-auto mb-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-3\",children:\"Client Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm text-gray-600\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Niche:\"}),\" \",clientData.niche]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Target Audience:\"}),\" \",clientData.target_audience]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Tone of Voice:\"}),\" \",clientData.tone_of_voice]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Goals:\"}),\" \",clientData.goals]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-3\",children:\"Analysis Status\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[analysisComplete?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-green-600\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Analysis Complete\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 text-gray-500\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Ready to Analyze\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:topics.length>0?\"\".concat(topics.length,\" trending topics found\"):'No topics analyzed yet'})]})]})]})}),!analysisComplete&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-12\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:analyzeTrends,disabled:isLoading,className:\"btn-primary text-lg px-8 py-4 flex items-center space-x-2 mx-auto disabled:opacity-50 disabled:cursor-not-allowed\",children:isLoading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-6 h-6 animate-spin\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Analyzing Trends...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"w-6 h-6\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Start Trend Analysis\"})]})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-3\",children:\"This will analyze trending topics from news and social media sources\"})]}),topics.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900 mb-4\",children:\"Top Trending Topics\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-600\",children:\"Ranked by virality and relevance to your client's niche\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-6\",children:topics.map((topic,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"card hover:shadow-lg transition-shadow duration-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-primary-100 text-primary-700 rounded-full flex items-center justify-center text-sm font-bold\",children:index+1}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900\",children:topic.title})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4 leading-relaxed\",children:topic.description}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2 mb-4\",children:topic.keywords&&topic.keywords.map((keyword,idx)=>/*#__PURE__*/_jsxs(\"span\",{className:\"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm\",children:[\"#\",keyword]},idx))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 text-sm text-gray-500\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Source: \",topic.source]}),topic.sentiment&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-medium \".concat(topic.sentiment==='positive'?'bg-green-100 text-green-700':topic.sentiment==='negative'?'bg-red-100 text-red-700':'bg-gray-100 text-gray-700'),children:topic.sentiment})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-6 text-right\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500 mb-1\",children:\"Virality Score\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-3 py-1 rounded-full text-sm font-bold \".concat(getScoreColor(topic.virality_score)),children:[topic.virality_score,\"/10\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:getScoreLabel(topic.virality_score)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500 mb-1\",children:\"Relevance Score\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-3 py-1 rounded-full text-sm font-bold \".concat(getScoreColor(topic.relevance_score)),children:[topic.relevance_score,\"/10\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:getScoreLabel(topic.relevance_score)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500 mb-1\",children:\"Overall Score\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-3 py-1 rounded-full text-sm font-bold \".concat(getScoreColor(topic.overall_score)),children:[topic.overall_score,\"/10\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:getScoreLabel(topic.overall_score)})]})]})})]})},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center pt-8\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleContinueToContent,className:\"btn-primary text-lg px-8 py-4 flex items-center space-x-2 mx-auto\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Generate Instagram Content\"}),/*#__PURE__*/_jsx(ArrowRight,{className:\"w-6 h-6\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-3\",children:\"Create engaging carousel posts for the top 5 trending topics\"})]})]}),isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-20\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin w-12 h-12 border-4 border-primary-600 border-t-transparent rounded-full mx-auto mb-6\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:\"Analyzing Trends\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Searching news and social media for trending topics...\"})]})]});};export default TrendAnalysis;","map":{"version":3,"names":["React","useState","useEffect","useLocation","useNavigate","TrendingUp","ArrowRight","RefreshCw","CheckCircle","AlertCircle","toast","apiService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TrendAnalysis","location","navigate","isLoading","setIsLoading","topics","setTopics","clientData","setClientData","clientId","setClientId","analysisComplete","setAnalysisComplete","_location$state","_location$state2","state","storedClientId","localStorage","getItem","storedClient","JSON","parse","analyzeTrends","error","response","client_id","niche","status","data","success","_error$response","_error$response$data","console","handleContinueToContent","length","getScoreColor","score","getScoreLabel","className","children","name","target_audience","tone_of_voice","goals","concat","onClick","disabled","map","topic","index","title","description","keywords","keyword","idx","source","sentiment","virality_score","relevance_score","overall_score"],"sources":["/Users/ivanjackson/Documents/Local dev projects/Content machine/frontend/src/pages/TrendAnalysis.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport { TrendingUp, ArrowRight, RefreshCw, CheckCircle, AlertCircle } from 'lucide-react';\nimport toast from 'react-hot-toast';\nimport { apiService } from '../services/api';\n\nconst TrendAnalysis = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [isLoading, setIsLoading] = useState(false);\n  const [topics, setTopics] = useState([]);\n  const [clientData, setClientData] = useState(null);\n  const [clientId, setClientId] = useState(null);\n  const [analysisComplete, setAnalysisComplete] = useState(false);\n\n  useEffect(() => {\n    // Get client data from location state or localStorage\n    if (location.state?.clientId && location.state?.clientData) {\n      setClientId(location.state.clientId);\n      setClientData(location.state.clientData);\n    } else {\n      const storedClientId = localStorage.getItem('currentClientId');\n      const storedClient = localStorage.getItem('currentClient');\n      if (storedClientId && storedClient) {\n        setClientId(storedClientId);\n        setClientData(JSON.parse(storedClient));\n      } else {\n        // Redirect to client setup if no client data\n        navigate('/client-setup');\n        return;\n      }\n    }\n  }, [location.state, navigate]);\n\n  const analyzeTrends = async () => {\n    if (!clientId || !clientData) {\n      toast.error('Client data not found. Please setup a client first.');\n      return;\n    }\n\n    setIsLoading(true);\n    \n    try {\n      const response = await apiService.analyzeTrends({\n        client_id: clientId,\n        niche: clientData.niche\n      });\n      \n      if (response.status === 200) {\n        setTopics(response.data.topics);\n        setAnalysisComplete(true);\n        toast.success('Trend analysis completed successfully!');\n      }\n    } catch (error) {\n      console.error('Error analyzing trends:', error);\n      toast.error(error.response?.data?.error || 'Failed to analyze trends');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleContinueToContent = () => {\n    if (topics.length > 0) {\n      navigate('/content-generation', {\n        state: {\n          clientId,\n          clientData,\n          topics\n        }\n      });\n    }\n  };\n\n  const getScoreColor = (score) => {\n    if (score >= 8) return 'text-green-600 bg-green-100';\n    if (score >= 6) return 'text-yellow-600 bg-yellow-100';\n    return 'text-red-600 bg-red-100';\n  };\n\n  const getScoreLabel = (score) => {\n    if (score >= 8) return 'Excellent';\n    if (score >= 6) return 'Good';\n    return 'Fair';\n  };\n\n  if (!clientData) {\n    return (\n      <div className=\"text-center py-20\">\n        <div className=\"animate-spin w-8 h-8 border-2 border-primary-600 border-t-transparent rounded-full mx-auto mb-4\"></div>\n        <p>Loading client data...</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-6xl mx-auto\">\n      {/* Header */}\n      <div className=\"text-center mb-12\">\n        <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">\n          Trend Analysis for {clientData.name}\n        </h1>\n        <p className=\"text-xl text-gray-600 max-w-3xl mx-auto\">\n          Analyzing trending topics in <span className=\"font-semibold text-primary-600\">{clientData.niche}</span> \n          to identify the most viral and relevant content opportunities.\n        </p>\n      </div>\n\n      {/* Client Info Card */}\n      <div className=\"card max-w-4xl mx-auto mb-8\">\n        <div className=\"grid md:grid-cols-2 gap-6\">\n          <div>\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">Client Details</h3>\n            <div className=\"space-y-2 text-sm text-gray-600\">\n              <p><span className=\"font-medium\">Niche:</span> {clientData.niche}</p>\n              <p><span className=\"font-medium\">Target Audience:</span> {clientData.target_audience}</p>\n              <p><span className=\"font-medium\">Tone of Voice:</span> {clientData.tone_of_voice}</p>\n              <p><span className=\"font-medium\">Goals:</span> {clientData.goals}</p>\n            </div>\n          </div>\n          <div>\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">Analysis Status</h3>\n            <div className=\"space-y-2\">\n              {analysisComplete ? (\n                <div className=\"flex items-center space-x-2 text-green-600\">\n                  <CheckCircle className=\"w-5 h-5\" />\n                  <span>Analysis Complete</span>\n                </div>\n              ) : (\n                <div className=\"flex items-center space-x-2 text-gray-500\">\n                  <AlertCircle className=\"w-5 h-5\" />\n                  <span>Ready to Analyze</span>\n                </div>\n              )}\n              <p className=\"text-sm text-gray-600\">\n                {topics.length > 0 ? `${topics.length} trending topics found` : 'No topics analyzed yet'}\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Analysis Button */}\n      {!analysisComplete && (\n        <div className=\"text-center mb-12\">\n          <button\n            onClick={analyzeTrends}\n            disabled={isLoading}\n            className=\"btn-primary text-lg px-8 py-4 flex items-center space-x-2 mx-auto disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {isLoading ? (\n              <>\n                <RefreshCw className=\"w-6 h-6 animate-spin\" />\n                <span>Analyzing Trends...</span>\n              </>\n            ) : (\n              <>\n                <TrendingUp className=\"w-6 h-6\" />\n                <span>Start Trend Analysis</span>\n              </>\n            )}\n          </button>\n          <p className=\"text-sm text-gray-500 mt-3\">\n            This will analyze trending topics from news and social media sources\n          </p>\n        </div>\n      )}\n\n      {/* Results */}\n      {topics.length > 0 && (\n        <div className=\"space-y-8\">\n          <div className=\"text-center\">\n            <h2 className=\"text-3xl font-bold text-gray-900 mb-4\">\n              Top Trending Topics\n            </h2>\n            <p className=\"text-lg text-gray-600\">\n              Ranked by virality and relevance to your client's niche\n            </p>\n          </div>\n\n          <div className=\"grid gap-6\">\n            {topics.map((topic, index) => (\n              <div key={index} className=\"card hover:shadow-lg transition-shadow duration-200\">\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center space-x-3 mb-3\">\n                      <div className=\"w-8 h-8 bg-primary-100 text-primary-700 rounded-full flex items-center justify-center text-sm font-bold\">\n                        {index + 1}\n                      </div>\n                      <h3 className=\"text-xl font-semibold text-gray-900\">{topic.title}</h3>\n                    </div>\n                    \n                    <p className=\"text-gray-600 mb-4 leading-relaxed\">{topic.description}</p>\n                    \n                    <div className=\"flex flex-wrap gap-2 mb-4\">\n                      {topic.keywords && topic.keywords.map((keyword, idx) => (\n                        <span key={idx} className=\"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm\">\n                          #{keyword}\n                        </span>\n                      ))}\n                    </div>\n\n                    <div className=\"flex items-center space-x-4 text-sm text-gray-500\">\n                      <span>Source: {topic.source}</span>\n                      {topic.sentiment && (\n                        <span className={`px-2 py-1 rounded-full text-xs font-medium ${\n                          topic.sentiment === 'positive' ? 'bg-green-100 text-green-700' :\n                          topic.sentiment === 'negative' ? 'bg-red-100 text-red-700' :\n                          'bg-gray-100 text-gray-700'\n                        }`}>\n                          {topic.sentiment}\n                        </span>\n                      )}\n                    </div>\n                  </div>\n\n                  <div className=\"ml-6 text-right\">\n                    <div className=\"space-y-3\">\n                      <div>\n                        <div className=\"text-sm text-gray-500 mb-1\">Virality Score</div>\n                        <div className={`px-3 py-1 rounded-full text-sm font-bold ${getScoreColor(topic.virality_score)}`}>\n                          {topic.virality_score}/10\n                        </div>\n                        <div className=\"text-xs text-gray-500 mt-1\">{getScoreLabel(topic.virality_score)}</div>\n                      </div>\n                      \n                      <div>\n                        <div className=\"text-sm text-gray-500 mb-1\">Relevance Score</div>\n                        <div className={`px-3 py-1 rounded-full text-sm font-bold ${getScoreColor(topic.relevance_score)}`}>\n                          {topic.relevance_score}/10\n                        </div>\n                        <div className=\"text-xs text-gray-500 mt-1\">{getScoreLabel(topic.relevance_score)}</div>\n                      </div>\n                      \n                      <div>\n                        <div className=\"text-sm text-gray-500 mb-1\">Overall Score</div>\n                        <div className={`px-3 py-1 rounded-full text-sm font-bold ${getScoreColor(topic.overall_score)}`}>\n                          {topic.overall_score}/10\n                        </div>\n                        <div className=\"text-xs text-gray-500 mt-1\">{getScoreLabel(topic.overall_score)}</div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {/* Continue Button */}\n          <div className=\"text-center pt-8\">\n            <button\n              onClick={handleContinueToContent}\n              className=\"btn-primary text-lg px-8 py-4 flex items-center space-x-2 mx-auto\"\n            >\n              <span>Generate Instagram Content</span>\n              <ArrowRight className=\"w-6 h-6\" />\n            </button>\n            <p className=\"text-sm text-gray-500 mt-3\">\n              Create engaging carousel posts for the top 5 trending topics\n            </p>\n          </div>\n        </div>\n      )}\n\n      {/* Loading State */}\n      {isLoading && (\n        <div className=\"text-center py-20\">\n          <div className=\"animate-spin w-12 h-12 border-4 border-primary-600 border-t-transparent rounded-full mx-auto mb-6\"></div>\n          <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">Analyzing Trends</h3>\n          <p className=\"text-gray-600\">Searching news and social media for trending topics...</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default TrendAnalysis;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}